Верстка
================================

Требования
----------

1.  Читабельность
2.  Простота поддержки
3.  Простота использования как при индивидуальной разработке сайта так и при работе в команде
4.  Совместная работа с кодом разных специалистов
5.  Повторное использование кода как внутри проекта, так и в других проектах

Основыные понятия
------
За основу взята разработанная в Яндексе методология [БЭМ] [1] (аббревиатура от слов Блок-Элемент-Модификатор). 

**Блок** - некоторая самостоятельная сущность, кирпичик проекта. Блок может быть простым или составным, то есть содержать в себе другие блоки. Блоки должны быть независимыми, чтобы его можно было вставить в любое место на странице. В том числе и вставить в другой блок.

**Элемент** – это часть блока, отвечающая за отдельную функцию. Он может находиться только в составе блока и не имеет смысла в отрыве от него. Имя элемента должно быть уникальным в пределах блока. 

**Модификатор** — это свойство блока или элемента, которое меняет внешний вид или поведение.

Применение
----------

Для простоты восприятия, объясним основные понятия подхода на примере этой странички.

![alt text][pic_page]

Данный сайт содержит следующие функциональные блоки: “шапка”, “контент”, “подвал”, “меню” и “логотип”. Тут главное без фанатизма, т.е не следует слишком сильно дробить страницу на блоки. В нашем случае блок “меню” это “терминальная вершина”, и выделение блока “пункт меню” было бы излишне. Пункт меню - это элемент блока “меню”. А выделение активного пункта меню производится с помощью модификатора.

С точки зрения HTML и CSS все вышесказанное обозначает:
*	У блоков и элементов должны быть уникальные «имена», на которые можно написать CSS правило. По “именем”, мы подразумеваем класс.
*	Имена классов должны совпадать с названием блока и однозначно описывать его функционал. 
*	Нельзя использования id для именования блоков и элементов, т.к. это исключает повторное их использование.
*	Не должно быть CSS-селекторов на HTML-теги, они по определению контекстно-зависимые. В тоже время нужно соблюдать семантику тегов (при отрисовке списка использовать теги ul и ol, при отрисовке заголовка - H1-Hn)
*	Нужно избегать каскадные селекторы

Рассмотрим пример именования CSS классов. 
 
1. Имя класса совпадает с именем блока и оно уникально. Префикс `.b-` - сокращение от block.
	```html
	<ul class="b-menu">
		...
	</ul>
	```

2. CSS-класс элемента — это имя блока и имя элемента, разделённые двойным подчеркиванием. Необходимость учитывать имя блока в CSS-классе для элемента нужна для минимизации каскада.
	```html
	<ul class="b-menu">
	  	<li class="b-menu__item">
	  		<a href="#" class="b-menu__link">About</a>
	  	</li>
	  	<li class="b-menu__item">
	  		<a href="#" class="b-menu__link active">Blog</a>
	  	</li>
	  	...
	</ul>
	```

3. CSS-правила блока должны быть абстрагированы от родительского элемента. Например позиционирование логотипа внутри блока “шапка” должно устанавливаться стилями “шапки”. Это позволит использовать логотип в других блоках с минимальными изменениями его стилей.
	```html
	<div class="b-header">
		<div class="b-header__logo">
			<a href="#" class="b-logo">Provectus IT</a>
		</div>
		<div class="b-header__menu">
			<ul class="b-menu">
				<li class="b-menu__item">
					<a href="#" class="b-menu__link">About</a>
				</li>
				<li class="b-menu__item">
					<a href="#" class="b-menu__link active">Blog</a>
				</li>
			</ul>
		</div>
	</div>
	``` 
	```css
	.b-header .b-header__logo {
	    float: left;
	    padding-left: 20px;
	}
	```
Шапка сайта содержит логотип выравненный по левой стороне. "Подвал" сайта тоже содержит логотип, при этом он прижат к правой стороне. В данной ситуации позиционированием логотипа должен заниматься блок родитель. В противном случае необходимо описывать классы модификаторы.

4. Минимальный уровень вложенности CSS-правил для элементов - 2, т.к. элемент может находиться только в составе блока и не имеет смысла в отрыве от него.
	```css
	.b-header .b-header__logo {
		float: left;
		padding-left: 20px;
	}
	```
5. Модификатор представляется дополнительным CSS-классом блока или элемента.
	```html
	<a href="#" class="b-menu__link active">Blog</a>
	```
Как показала практика модификаторы удобно разделить на две группы: 
	* состояния - их в "жизни" элемента может быть несколько (например: `active`, `current`, `disabled` и т.п.). Состояния удобнее описывать односложно не зависимо от контекста; 
	* мутации - изменяют вид элемента в "состоянии спокойствия", если так можно выразится. Описываются в контексте блока (например: `b-menu__link-short`)
Модификаторов могут накладываться друг на друга.

UI Kit. Структурные элементы
----------------------------

Кроме блоков, элементов и модификаторов мы выделяем еще одну немаловажную сущность - **структурные элементы**. 
Это могут таблицы, списки, кнопки, заголовки и подобные однотипные элементы, неоднократно используемые в проекте. 
Они могут "стоять особняком" или входить в состав блоков и элементов.

Структуры можно модифицировать в контексте блоков (без фанатизма конечно). 
В случае капитальных изменений создаем новую структуру или переносим ее описание в блок. На самом деле, это очень тонкий
момент, и все зависит от конкретного случая.

Особых отличий в именовании нет, мы просто меняем префикс класса с `.b-` на `.s-`(structure), например `s-short-list` или `s-btn`.
Относительно структур не возброняется привязка к HTML-тегам, дабы не перегружать код.
```css
.s-list li {
	list-style: none;
	border-bottom: 1px solid #ddd;
	...
}
```

Модификаторы работают так же как и в случае с блоками и элементами
```css
[class^="s-btn"],
[class*=" s-btn"] {
    border: 1px solid #eee;
    background: green;
    border-radius: 3px;
    opacity: 0.8;
    color: #fff;
    cursor: pointer;
    padding: 5px 10px;
}

[class^="s-btn"].active,
[class*=" s-btn"].active {
    opacity: 1;
}

.s-btn__success {
    background: blue;
}

.s-btn__danger {
    background: red;
}
```

Кроме структур, иногда бывает удобно выделить layout-ы. Именование начинается с префикса `.l-`. 
Layout не имеет элементов, а описывает некие глобальные правила. Например `font` или `background`.

JavaScript
----------

В качестве js селекторов, нельзя использовать элементы верстки. Для этих нужд создается специальный 
селектор-класс с префиксом `.js-`, который в полной мере описывает его предназначение. 
Например: `.js-search-button` или `.js-confiramtion-popup`. 

В ситуации когда новый человек приходит в проект, и ему нужно внести изменения в сложный, незнакомый ему кусок кода, 
селектор с префиксом `.js-`, явно укажет ему на использование элемента в JS. 

[pic_page]: img/page.png "Logo Title Text 2"

[1]: http://bem.info/        "БЭМ"
  

